# SVN监控脚本 - 项目文档

## 📚 文档导航

> **完整文档索引**：请参考 <mcfile name="文档索引.md" path="d:\B_Code\B_project\snake\Doc\文档索引.md"></mcfile> 获取所有文档的详细导航和说明。

## 🎯 项目概述

SVN监控脚本是一个自动化工具，用于监控SVN仓库的提交活动，并在检测到新提交时自动发送邮件通知。该系统支持多仓库配置、Excel收件人管理、以及灵活的部署选项。

### 核心功能

- **SVN仓库监控**：实时监控多个SVN仓库的提交活动
- **邮件通知**：自动发送提交通知邮件给相关收件人
- **多仓库支持**：支持同时监控多个SVN仓库
- **收件人管理**：通过Excel文件配置收件人列表
- **错误处理**：完善的错误处理和重试机制
- **日志记录**：详细的日志记录和调试信息

## 🏗️ 技术架构

### 系统组件

- **主监控脚本**：`svn_monitor.py` - 核心监控逻辑
- **配置文件**：支持Excel格式的配置管理
- **收件人管理**：Excel文件格式的收件人配置
- **部署脚本**：Windows批处理文件和Linux部署指南

### 技术栈

- **编程语言**：Python 3.7+
- **依赖库**：
  - `pandas` - Excel文件处理
  - `smtplib` - 邮件发送
  - `subprocess` - SVN命令执行
  - `logging` - 日志记录

## 🚀 快速开始

### 环境要求

- Python 3.7或更高版本
- SVN客户端工具
- 邮件服务器配置

### 安装步骤

1. **克隆项目**
   ```bash
   git clone <repository-url>
   cd snake
   ```

2. **安装依赖**
   ```bash
   pip install -r requirements.txt
   ```

3. **配置参数**
   - 修改配置文件中的SVN仓库路径
   - 配置邮件服务器参数
   - 设置收件人Excel文件路径

4. **运行监控**
   ```bash
   python src/svn_monitor.py
   ```

## 📋 文档体系

### 需求与设计文档

- **<mcfile name="需求规格说明书.md" path="d:\B_Code\B_project\snake\Doc\需求规格说明书.md"></mcfile>** - 功能需求、非功能需求、技术约束
- **<mcfile name="概要设计文档.md" path="d:\B_Code\B_project\snake\Doc\概要设计文档.md"></mcfile>** - 系统架构、模块设计、接口定义
- **<mcfile name="详细设计文档.md" path="d:\B_Code\B_project\snake\Doc\详细设计文档.md"></mcfile>** - 详细设计、数据流图、核心模块实现

### 测试文档

- **<mcfile name="测试计划文档.md" path="d:\B_Code\B_project\snake\Doc\测试计划文档.md"></mcfile>** - 测试策略、测试范围、测试计划
- **<mcfile name="测试用例文档.md" path="d:\B_Code\B_project\snake\Doc\测试用例文档.md"></mcfile>** - 测试用例、测试执行记录、缺陷统计

### 用户与开发文档

- **<mcfile name="用户手册.md" path="d:\B_Code\B_project\snake\Doc\用户手册.md"></mcfile>** - 用户使用手册、操作指南、部署指南
- **<mcfile name="开发人员手册.md" path="d:\B_Code\B_project\snake\Doc\开发人员手册.md"></mcfile>** - 开发环境搭建、代码架构、开发规范

### 代码质量文档

- **<mcfile name="代码注释规范.md" path="d:\B_Code\B_project\snake\Doc\代码注释规范.md"></mcfile>** - 代码注释规范、核心模块注释详解
- **<mcfile name="编码规范.md" path="d:\B_Code\B_project\snake\Doc\编码规范.md"></mcfile>** - 代码风格规范、编程实践规范
- **<mcfile name="代码质量规范.md" path="d:\B_Code\B_project\snake\Doc\代码质量规范.md"></mcfile>** - 代码质量指标、检查工具配置
- **<mcfile name="代码维护指南.md" path="d:\B_Code\B_project\snake\Doc\代码维护指南.md"></mcfile>** - 维护流程、版本管理、性能监控

### 部署与运维文档

- **<mcfile name="部署指南.md" path="d:\B_Code\B_project\snake\Doc\部署指南.md"></mcfile>** - 部署指南、环境配置、故障排除
- **<mcfile name="测试问题记录.md" path="d:\B_Code\B_project\snake\Doc\测试问题记录.md"></mcfile>** - 测试问题记录、Bug修复历史

## 🔧 详细配置

### 配置文件结构

SVN监控系统使用Excel格式的配置文件，包含以下工作表：

**Repository Configs工作表**（仓库配置）：
- Repository ID：仓库标识符
- Repository Name：仓库名称
- Repository Path：SVN仓库路径
- URL：仓库URL
- Username：用户名
- Password：密码
- Check Interval：检查间隔（秒）
- Local Working Copy：本地工作副本路径
- Notify On Changes：是否通知变更
- Recipients：收件人列表

**Global Configs工作表**（全局配置）：
- Section：配置节（如EMAIL、LOGGING、SYSTEM）
- Key：配置键
- Value：配置值

### 收件人Excel格式

Excel文件应包含以下列：
- `name`：收件人姓名
- `email`：收件人邮箱地址
- `repository`：关联的仓库名称

## 📖 文档使用建议

### 新用户
1. 阅读 <mcfile name="用户手册.md" path="d:\B_Code\B_project\snake\Doc\用户手册.md"></mcfile> 了解系统功能和使用方法
2. 参考 <mcfile name="部署指南.md" path="d:\B_Code\B_project\snake\Doc\部署指南.md"></mcfile> 进行系统部署
3. 查看 <mcfile name="测试问题记录.md" path="d:\B_Code\B_project\snake\Doc\测试问题记录.md"></mcfile> 了解已知问题和解决方案

### 开发人员
1. 阅读 <mcfile name="开发人员手册.md" path="d:\B_Code\B_project\snake\Doc\开发人员手册.md"></mcfile> 搭建开发环境
2. 参考 <mcfile name="编码规范.md" path="d:\B_Code\B_project\snake\Doc\编码规范.md"></mcfile> 遵循编码规范
3. 查看 <mcfile name="代码注释规范.md" path="d:\B_Code\B_project\snake\Doc\代码注释规范.md"></mcfile> 了解代码注释规范

### 测试人员
1. 阅读 <mcfile name="测试计划文档.md" path="d:\B_Code\B_project\snake\Doc\测试计划文档.md"></mcfile> 了解测试策略
2. 参考 <mcfile name="测试用例文档.md" path="d:\B_Code\B_project\snake\Doc\测试用例文档.md"></mcfile> 执行测试用例
3. 查看 <mcfile name="代码质量规范.md" path="d:\B_Code\B_project\snake\Doc\代码质量规范.md"></mcfile> 进行代码质量检查

## 📞 技术支持

如需技术支持或报告问题，请参考相关文档或联系项目维护人员。

## 项目文件结构

```
snake/
├── src/
│   ├── svn_monitor.py          # 主监控脚本
│   └── run_svn_monitor.bat     # Windows启动脚本
├── Doc/
│   ├── README.md               # 项目文档（本文件）
│   ├── requirements.md         # 需求文档
│   ├── detailed_design.md      # 详细设计文档
│   ├── unit_test.md           # 单元测试记录
│   └── issue.md               # 问题记录文档
└── config/
    ├── svn_monitor_config.xlsx  # 主配置文件（Excel格式）
    └── recipients.xlsx        # 收件人配置示例
```

## 开发规范

### 代码规范
- 遵循PEP 8 Python编码规范
- 使用有意义的变量和函数命名
- 添加必要的注释和文档字符串

### 测试要求
- 所有功能模块都需要单元测试
- 测试覆盖率不低于80%
- 集成测试验证端到端功能

## 版本历史

### v1.0.0 (当前版本)
- 实现基本SVN监控功能
- 支持多仓库配置
- 集成邮件通知系统
- 完善错误处理机制

## 联系方式

如有问题或建议，请联系项目维护团队。

---

*最后更新：2024年*
